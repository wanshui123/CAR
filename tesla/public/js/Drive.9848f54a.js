(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Drive"],{"0d6e":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"drive"}},[s("my-header",{staticClass:"my"}),t._m(0),s("div",{staticClass:"container",class:{form:t.form}},[s("div",{staticClass:"content"},[s("form",{ref:"input",staticClass:"row no-gutters"},[s("div",{staticClass:"col-sm-12"},[s("div",{staticClass:"d-flex justify-content-between"},[s("div",{staticClass:"first-name"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstname,expression:"firstname"}],ref:"firstName",class:t.firstnameFail,attrs:{type:"text"},domProps:{value:t.firstname},on:{blur:t.checkFirstname,input:function(e){e.target.composing||(t.firstname=e.target.value)}}}),s("p",[t._v(t._s(t.firstnameMessage))])]),s("div",{staticClass:"last-name"},[t._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],ref:"lastName",class:t.lastnameFail,attrs:{type:"text"},domProps:{value:t.lastname},on:{blur:t.checkLastname,input:function(e){e.target.composing||(t.lastname=e.target.value)}}}),s("p",[t._v(t._s(t.lastnameMessage))])])])]),s("div",{staticClass:"col-12"},[s("div",[t._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"email",class:t.emailFail,attrs:{type:"text"},domProps:{value:t.email},on:{blur:t.checkEmail,input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("p",[t._v(t._s(t.emailMessage))])])]),s("div",{staticClass:"col-12"},[s("div",[t._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],ref:"phone",class:t.phoneFail,attrs:{type:"text"},domProps:{value:t.phone},on:{blur:t.checkPhone,input:function(e){e.target.composing||(t.phone=e.target.value)}}}),s("p",[t._v(t._s(t.phoneMessage))])])]),s("div",{staticClass:"col-12"},[s("div",[t._m(5),s("el-select",{class:t.proFail,attrs:{placeholder:"省份"},on:{change:function(e){return t.proChange()}},model:{value:t.proStatus,callback:function(e){t.proStatus=e},expression:"proStatus"}},t._l(t.proname,(function(e){return s("el-option",{key:e.pid,attrs:{value:e.pid,label:e.proname}},[t._v(t._s(e.proname))])})),1),s("p",[t._v(t._s(t.proMessage))])],1)]),s("div",{staticClass:"col-12"},[s("div",[t._m(6),s("el-select",{class:t.cityFail,attrs:{placeholder:"市(区)"},on:{change:function(e){return t.cityChange()}},model:{value:t.cityStatus,callback:function(e){t.cityStatus=e},expression:"cityStatus"}},t._l(t.cityname,(function(e){return s("el-option",{key:e.cid,attrs:{value:e.cid,label:e.cityname}},[t._v(t._s(e.cityname))])})),1),s("p",[t._v(t._s(t.cityMessage))])],1)]),s("div",{staticClass:"col-12"},[s("div",{on:{click:t.checkBox}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.newShow,expression:"newShow"}],staticClass:"checkBox",attrs:{for:"checkBox"}},[t._v("✓")])]),s("span",[t._v("获取Tesla最新资讯")])]),t._m(7)]),s("div",{on:{click:t.driveBtn}},[s("button",[t._v("预约试驾")])])])]),s("div",{class:t.cover1?"cover":"nocover"},[s("div",[t._m(8),s("div",[s("p",[t._v("登录后才可进行预约")]),s("router-link",{attrs:{to:"/login"}},[s("button",[t._v("登录")])]),s("p",{staticClass:"huo"},[t._v("或")]),s("router-link",{attrs:{to:"/register"}},[s("button",[t._v("注册")])]),s("router-link",{attrs:{to:"/"}},[t._v("以后再说")])],1)])]),s("div",{staticClass:"container",class:{shop:t.shop}},[s("div",{staticClass:"row no-gutters"},[s("div",{staticClass:"col-xl-6 col-sm-12  p-md-4 pr-sm-0 d-flex leftInp"},[s("div",{staticClass:"row no-gutters d-flex flex-column align-content-center"},[s("label",[t._v("选择门店")]),s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.shopStatus,expression:"shopStatus"}],on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.shopStatus=e.target.multiple?s:s[0]},t.shopChange]}},[s("option",{attrs:{value:"0"}},[t._v("请选择门店")]),t._l(t.shopname,(function(e,a){return s("option",{key:a,domProps:{value:a+1}},[t._v(t._s(e.shopname))])}))],2)]),s("label",{attrs:{for:""}},[t._v("选择日期")]),s("div",[s("el-date-picker",{attrs:{type:"date"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),s("label",{attrs:{for:""}},[t._v("选择时间")]),s("div",[s("el-time-select",{attrs:{"picker-options":{start:"08:30",step:"00:15",end:"18:30"}},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),s("div",[s("p",[t._v(" 如需安排其他时间试驾，请 "),s("span",[s("router-link",{attrs:{to:"#"}},[t._v("联系我们")])],1)])]),s("div",[s("button",{on:{click:t.bbtn}},[t._v("确认预约")])])])]),s("div",{staticClass:"col-xl-6 col-sm-12  p-md-4 pr-sm-0 d-flex flex-column justify-content-center align-items-center"},[s("div",[s("h4",{staticClass:"mb-3"},[t._v(t._s(t.title))]),s("p",{staticClass:"mb-2"},[t._v(t._s(t.adress))]),s("p",{staticClass:"mb-3"},[t._v(t._s(t.Tel))])]),s("div",{attrs:{id:"map"}})])])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-head w-100"},[s("h1",[t._v("预约试驾")]),s("p",[t._v("前往 Tesla 线下直营体验店，试驾最新款 Tesla 车型。")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"label"},[s("label",[t._v("姓氏")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"label"},[s("label",[t._v("名字")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"label"},[s("label",{attrs:{for:""}},[t._v("电子邮箱")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"label"},[s("label",{attrs:{for:""}},[t._v("电话")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"label select"},[s("label",{attrs:{for:""}},[t._v("省份")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"label select"},[s("label",{attrs:{for:""}},[t._v("城市")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("p",[t._v("为什么试驾需要预约？为保证每位客户都享受到一对一的试驾体验，我们需要根据您提供的信息来提前安排合适的试驾地点和时间。如您填写并提交上述信息，表示您同意特斯拉按照客户隐私政策(www.tesla.cn/about/legal)收集、使用这些信息。")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{attrs:{src:s("cf05"),alt:""}})])}],n=(s("d81d"),s("a9e3"),{data:function(){return{firstname:"",lastname:"",email:"",phone:"",proStatus:"",cityStatus:"",newShow:!1,firstnameMessage:"",lastnameMessage:"",emailMessage:"",phoneMessage:"",proMessage:"",cityMessage:"",driveResults:"",firstnameFail:{fail:!1},lastnameFail:{fail:!1},emailFail:{fail:!1},phoneFail:{fail:!1},proFail:{fail:!1},cityFail:{fail:!1},shopStatus:"",title:"店名",adress:"地址",Tel:"联系方式",mapshow:!1,pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},value1:"",value2:"",form:!1,shop:!1,proname:[],cityname:[],shopname:[],cover1:!0,latitude:39.915119,longitude:116.403963,map:null}},beforeMount:function(){0==this.$store.state.loginStatus?this.cover1=!0:this.cover1=!1},mounted:function(){var t=this;this.axios.get("/drive").then((function(e){t.proname=e.data.results})),this.initMap()},methods:{initMap:function(){this.map=new BMap.Map("map");var t=new BMap.Point(this.longitude,this.latitude);this.map.centerAndZoom(t,15),this.map.enableScrollWheelZoom(!0);var e=new BMap.Marker(t);this.map.addOverlay(e)},checkBox:function(){this.newShow?this.newShow=!1:this.newShow=!0},bbtn:function(){alert("提交成功")},driveBtn:function(){this.firstname||(this.firstnameMessage="内容不可为空",this.firstnameFail={fail:!0}),this.lastname||(this.lastnameMessage="内容不可为空",this.lastnameFail={fail:!0}),this.email||(this.emailMessage="内容不可为空",this.emailFail={fail:!0}),this.phone||(this.phoneMessage="内容不可为空",this.phoneFail={fail:!0}),""==this.proStatus?(this.proMessage="请选择试驾省份",this.proFail={fail:!0}):(this.proMessage="",this.proFail={fail:!1}),""==this.cityStatus?(this.cityMessage="请选择试驾城市",this.cityFail={fail:!0}):(this.cityMessage="",this.cityFail={fail:!1}),this.checkFirstname()&&this.checkLastname()&&this.checkEmail()&&this.checkPhone()&&""==!this.proStatus&&""==!this.cityStatus&&(this.form=!0,this.shop=!0)},checkFirstname:function(){var t=/^[A-Za-z]{2,15}$/i,e=this.firstname;if(e){if(t.test(e))return this.firstnameMessage="",this.firstnameFail={fail:!1},!0;this.firstnameMessage="请输入2-15位英文字母",this.firstnameFail={fail:!0}}else this.firstnameMessage="内容不可为空",this.firstnameFail={fail:!0}},checkLastname:function(){var t=/^[A-Za-z]{2,15}$/i,e=this.lastname;if(e){if(t.test(e))return this.lastnameMessage="",this.lastnameFail={fail:!1},!0;this.lastnameMessage="请输入2-15位英文字母",this.lastnameFail={fail:!0}}else this.lastnameMessage="内容不可为空",this.lastnameFail={fail:!0}},checkEmail:function(){var t=/^\w+@\w+\.\w+(\.cn)?$/,e=this.email;if(e){if(t.test(e))return this.emailMessage="",this.emailFail={fail:!1},!0;this.emailMessage="请输入正确的邮箱",this.emailFail={fail:!0}}else this.emailMessage="内容不可为空",this.emailFail={fail:!0}},checkPhone:function(){var t=/^1\d{10}$/,e=this.phone;if(e){if(t.test(e))return this.phoneMessage="",this.phoneFail={fail:!1},!0;this.phoneMessage="请输入正确的电话",this.phoneFail={fail:!0}}else this.phoneMessage="内容不可为空",this.phoneFail={fail:!0}},citySelect:function(){var t=this,e=this.proname[this.proStatus-1].pid;this.axios.get("/city?pid="+e).then((function(e){t.cityname=e.data.results}))},shopSelect:function(){var t=this,e=this.cityname[this.cityStatus-1].cid;this.axios.get("/shop?cid="+e).then((function(e){t.shopname=e.data.results,console.log(t.shopname)}))},proChange:function(){this.citySelect(),0!==this.proStatus&&(this.proMessage="",this.proFail={fail:!1}),this.cityStatus=""},cityChange:function(){this.shopSelect(),0!==this.cityStatus&&(this.cityMessage="",this.cityFail={fail:!1}),this.shopStatus="x"},shopChange:function(){this.shopStatus>0?(this.title=this.shopname[this.shopStatus-1].shopname,this.adress=this.shopname[this.shopStatus-1].adress,this.Tel=this.shopname[this.shopStatus-1].phone,this.longitude=Number(this.shopname[this.shopStatus-1].lng),this.latitude=Number(this.shopname[this.shopStatus-1].lat),this.initMap(),console.log(this.longitude,this.latitude)):0==this.shopStatus&&(this.title="店名",this.adress="地址",this.Tel="联系方式",this.longitude=116.403963,this.latitude=39.915119,this.initMap())}}}),r=n,l=(s("4635"),s("2877")),o=Object(l["a"])(r,a,i,!1,null,null,null);e["default"]=o.exports},"1dde":function(t,e,s){var a=s("d039"),i=s("b622"),n=s("2d00"),r=i("species");t.exports=function(t){return n>=51||!a((function(){var e=[],s=e.constructor={};return s[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4635:function(t,e,s){"use strict";s("f0c0")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var a=s("1d80"),i=s("5899"),n="["+i+"]",r=RegExp("^"+n+n+"*"),l=RegExp(n+n+"*$"),o=function(t){return function(e){var s=String(a(e));return 1&t&&(s=s.replace(r,"")),2&t&&(s=s.replace(l,"")),s}};t.exports={start:o(1),end:o(2),trim:o(3)}},"65f0":function(t,e,s){var a=s("861d"),i=s("e8b5"),n=s("b622"),r=n("species");t.exports=function(t,e){var s;return i(t)&&(s=t.constructor,"function"!=typeof s||s!==Array&&!i(s.prototype)?a(s)&&(s=s[r],null===s&&(s=void 0)):s=void 0),new(void 0===s?Array:s)(0===e?0:e)}},7156:function(t,e,s){var a=s("861d"),i=s("d2bb");t.exports=function(t,e,s){var n,r;return i&&"function"==typeof(n=e.constructor)&&n!==s&&a(r=n.prototype)&&r!==s.prototype&&i(t,r),t}},a9e3:function(t,e,s){"use strict";var a=s("83ab"),i=s("da84"),n=s("94ca"),r=s("6eeb"),l=s("5135"),o=s("c6b6"),c=s("7156"),u=s("c04e"),h=s("d039"),f=s("7c73"),p=s("241c").f,m=s("06cf").f,v=s("9bf2").f,d=s("58a8").trim,g="Number",_=i[g],b=_.prototype,y=o(f(b))==g,S=function(t){var e,s,a,i,n,r,l,o,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=d(c),e=c.charCodeAt(0),43===e||45===e){if(s=c.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+c}for(n=c.slice(2),r=n.length,l=0;l<r;l++)if(o=n.charCodeAt(l),o<48||o>i)return NaN;return parseInt(n,a)}return+c};if(n(g,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var M,w=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof w&&(y?h((function(){b.valueOf.call(s)})):o(s)!=g)?c(new _(S(e)),s,w):S(e)},C=a?p(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;C.length>x;x++)l(_,M=C[x])&&!l(w,M)&&v(w,M,m(_,M));w.prototype=b,b.constructor=w,r(i,g,w)}},ae40:function(t,e,s){var a=s("83ab"),i=s("d039"),n=s("5135"),r=Object.defineProperty,l={},o=function(t){throw t};t.exports=function(t,e){if(n(l,t))return l[t];e||(e={});var s=[][t],c=!!n(e,"ACCESSORS")&&e.ACCESSORS,u=n(e,0)?e[0]:o,h=n(e,1)?e[1]:void 0;return l[t]=!!s&&!i((function(){if(c&&!a)return!0;var t={length:-1};c?r(t,1,{enumerable:!0,get:o}):t[1]=1,s.call(t,u,h)}))}},b727:function(t,e,s){var a=s("0366"),i=s("44ad"),n=s("7b0b"),r=s("50c4"),l=s("65f0"),o=[].push,c=function(t){var e=1==t,s=2==t,c=3==t,u=4==t,h=6==t,f=5==t||h;return function(p,m,v,d){for(var g,_,b=n(p),y=i(b),S=a(m,v,3),M=r(y.length),w=0,C=d||l,x=e?C(p,M):s?C(p,0):void 0;M>w;w++)if((f||w in y)&&(g=y[w],_=S(g,w,b),t))if(e)x[w]=_;else if(_)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:o.call(x,g)}else if(u)return!1;return h?-1:c||u?u:x}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},cf05:function(t,e,s){t.exports=s.p+"img/logo.feef0560.png"},d81d:function(t,e,s){"use strict";var a=s("23e7"),i=s("b727").map,n=s("1dde"),r=s("ae40"),l=n("map"),o=r("map");a({target:"Array",proto:!0,forced:!l||!o},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,s){var a=s("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},f0c0:function(t,e,s){}}]);
//# sourceMappingURL=Drive.9848f54a.js.map